
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="spotoptim - Sequential Parameter Optimization Toolbox in Python">
      
      
      
        <link rel="canonical" href="https://github.com/sequential-parameter-optimization/spotoptim/manuals/save_load/">
      
      
        <link rel="prev" href="../reproducibility/">
      
      
        <link rel="next" href="../success_rate/">
      
      
        
      
      
      <link rel="icon" href="../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Save and Laod - spotoptim</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="grey" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#save-and-load-in-spotoptim" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="spotoptim" class="md-header__button md-logo" aria-label="spotoptim" data-md-component="logo">
      
  <img src="../../images/spotlogo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            spotoptim
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Save and Laod
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="grey" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/sequential-parameter-optimization/spotoptim/tree/main" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="spotoptim" class="md-nav__button md-logo" aria-label="spotoptim" data-md-component="logo">
      
  <img src="../../images/spotlogo.png" alt="logo">

    </a>
    spotoptim
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/sequential-parameter-optimization/spotoptim/tree/main" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../reference/spotoptim/SpotOptim/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Code Reference
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hyperparameter-tuning-cookbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../download/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Download
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Manuals
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Manuals
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reproducibility/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reproducibility
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Save and Laod
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Save and Laod
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#key-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Concepts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#experiments-vs-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Experiments vs Results
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-gets-saved" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Gets Saved
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quick Start
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quick Start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-save-and-load" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Save and Load
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distributed-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Distributed Workflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Distributed Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-define-experiment-locally" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Define Experiment Locally
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-execute-on-remote-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Execute on Remote Machine
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-analyze-results-locally" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Analyze Results Locally
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Usage
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-filenames-and-paths" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom Filenames and Paths
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overwrite-protection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overwrite Protection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loading-and-continuing-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Loading and Continuing Optimization
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-noisy-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Working with Noisy Functions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-different-variable-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Working with Different Variable Types
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-always-re-attach-the-objective-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Always Re-attach the Objective Function
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-meaningful-prefixes" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Use Meaningful Prefixes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-save-experiments-before-remote-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Save Experiments Before Remote Execution
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-version-your-experiments" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Version Your Experiments
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-handle-file-paths-robustly" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Handle File Paths Robustly
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-example-multi-machine-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Complete Example: Multi-Machine Workflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Complete Example: Multi-Machine Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#local-machine-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Local Machine (Setup)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remote-machine-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Remote Machine (Execution)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-machine-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Local Machine (Analysis)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-details" class="md-nav__link">
    <span class="md-ellipsis">
      
        Technical Details
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Technical Details">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#serialization-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        Serialization Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#component-reinitialization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Component Reinitialization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#excluded-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Excluded Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        File Format
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-attributeerror-spotoptim-object-has-no-attribute-fun" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: &ldquo;AttributeError: &lsquo;SpotOptim&rsquo; object has no attribute &lsquo;fun&rsquo;&rdquo;
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-filenotfounderror-experiment-file-not-found" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: &ldquo;FileNotFoundError: Experiment file not found&rdquo;
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-fileexistserror-file-already-exists" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: &ldquo;FileExistsError: File already exists&rdquo;
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-results-differ-after-loading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: Results differ after loading
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See Also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../success_rate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Success Rate Tracking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../acquisition_failure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Acquisition Failure Handling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../var_type/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Handling Variable Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kriging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kriging (internal Surrogate)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../multiobjective/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multiobjective Optimization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plot_surrogate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plot Surrogate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../point_selection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Point Selection Strategy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tensorboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plot Using TensorBoard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tensorboard_clean/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TensorBoard Clean Feature
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../diabetes_dataset/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Diabetes Dataset Utilities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#key-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Concepts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#experiments-vs-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Experiments vs Results
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-gets-saved" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Gets Saved
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quick Start
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quick Start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-save-and-load" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Save and Load
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distributed-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Distributed Workflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Distributed Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-define-experiment-locally" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Define Experiment Locally
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-execute-on-remote-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Execute on Remote Machine
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-analyze-results-locally" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Analyze Results Locally
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Usage
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-filenames-and-paths" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom Filenames and Paths
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overwrite-protection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overwrite Protection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loading-and-continuing-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Loading and Continuing Optimization
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-noisy-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Working with Noisy Functions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-different-variable-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Working with Different Variable Types
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-always-re-attach-the-objective-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Always Re-attach the Objective Function
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-meaningful-prefixes" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Use Meaningful Prefixes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-save-experiments-before-remote-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Save Experiments Before Remote Execution
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-version-your-experiments" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Version Your Experiments
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-handle-file-paths-robustly" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Handle File Paths Robustly
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-example-multi-machine-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Complete Example: Multi-Machine Workflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Complete Example: Multi-Machine Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#local-machine-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Local Machine (Setup)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remote-machine-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Remote Machine (Execution)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-machine-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Local Machine (Analysis)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-details" class="md-nav__link">
    <span class="md-ellipsis">
      
        Technical Details
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Technical Details">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#serialization-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        Serialization Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#component-reinitialization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Component Reinitialization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#excluded-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Excluded Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        File Format
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-attributeerror-spotoptim-object-has-no-attribute-fun" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: &ldquo;AttributeError: &lsquo;SpotOptim&rsquo; object has no attribute &lsquo;fun&rsquo;&rdquo;
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-filenotfounderror-experiment-file-not-found" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: &ldquo;FileNotFoundError: Experiment file not found&rdquo;
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-fileexistserror-file-already-exists" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: &ldquo;FileExistsError: File already exists&rdquo;
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-results-differ-after-loading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: Results differ after loading
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See Also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href="../.." class="md-path__link">
        
  <span class="md-ellipsis">
    Home
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../reproducibility/" class="md-path__link">
          
  <span class="md-ellipsis">
    Manuals
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="save-and-load-in-spotoptim">Save and Load in SpotOptim<a class="headerlink" href="#save-and-load-in-spotoptim" title="Permanent link">&para;</a></h1>
<p>SpotOptim provides comprehensive save and load functionality for serializing optimization configurations and results. This enables distributed workflows where experiments are defined locally, executed remotely, and analyzed back on the local machine.</p>
<h2 id="key-concepts">Key Concepts<a class="headerlink" href="#key-concepts" title="Permanent link">&para;</a></h2>
<h3 id="experiments-vs-results">Experiments vs Results<a class="headerlink" href="#experiments-vs-results" title="Permanent link">&para;</a></h3>
<p>SpotOptim distinguishes between two types of saved data:</p>
<ul>
<li><strong>Experiment</strong> (<code>*_exp.pkl</code>): Configuration only, excluding the objective function and results. Used to transfer optimization setup to remote machines.</li>
<li><strong>Result</strong> (<code>*_res.pkl</code>): Complete optimization state including configuration, all evaluations, and results. Used to save and analyze completed optimizations.</li>
</ul>
<h3 id="what-gets-saved">What Gets Saved<a class="headerlink" href="#what-gets-saved" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Experiment</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>Configuration (bounds, parameters)</td>
<td>✓</td>
<td>✓</td>
</tr>
<tr>
<td>Objective function</td>
<td>✗</td>
<td>✗</td>
</tr>
<tr>
<td>Evaluations (X, y)</td>
<td>✗</td>
<td>✓</td>
</tr>
<tr>
<td>Best solution</td>
<td>✗</td>
<td>✓</td>
</tr>
<tr>
<td>Surrogate model</td>
<td>Excluded*</td>
<td>✓</td>
</tr>
<tr>
<td>TensorBoard writer</td>
<td>✗</td>
<td>✗</td>
</tr>
</tbody>
</table>
<p>*Surrogate model is excluded from experiments and automatically recreated when loaded.</p>
<h2 id="quick-start">Quick Start<a class="headerlink" href="#quick-start" title="Permanent link">&para;</a></h2>
<h3 id="basic-save-and-load">Basic Save and Load<a class="headerlink" href="#basic-save-and-load" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">import numpy as np
from spotoptim import SpotOptim

def sphere(X):
    &quot;&quot;&quot;Simple sphere function&quot;&quot;&quot;
    return np.sum(X**2, axis=1)

# Create and configure optimizer
optimizer = SpotOptim(
    fun=sphere,
    bounds=[(-5, 5), (-5, 5)],
    max_iter=50,
    n_initial=15,
    seed=42
)

# Run optimization
result = optimizer.optimize()
print(f&quot;Best value: {result.fun:.6f}&quot;)

# Save complete results
optimizer.save_result(prefix=&quot;sphere_opt&quot;)
# Creates: sphere_opt_res.pkl

# Later: load and analyze results
loaded_opt = SpotOptim.load_result(&quot;sphere_opt_res.pkl&quot;)
print(f&quot;Loaded best value: {loaded_opt.best_y_:.6f}&quot;)
print(f&quot;Total evaluations: {loaded_opt.counter}&quot;)
</code></pre>
<h2 id="distributed-workflow">Distributed Workflow<a class="headerlink" href="#distributed-workflow" title="Permanent link">&para;</a></h2>
<p>The save/load functionality enables a powerful workflow for distributed optimization:</p>
<h3 id="step-1-define-experiment-locally">Step 1: Define Experiment Locally<a class="headerlink" href="#step-1-define-experiment-locally" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">import numpy as np
from spotoptim import SpotOptim

# Define configuration locally (no need to run optimization yet)
optimizer = SpotOptim(
    bounds=[(-10, 10), (-10, 10), (-10, 10)],
    max_iter=200,
    n_initial=30,
    seed=42,
    verbose=True
)

# Save experiment configuration
optimizer.save_experiment(prefix=&quot;remote_job_001&quot;)
# Creates: remote_job_001_exp.pkl

print(&quot;Experiment saved. Transfer remote_job_001_exp.pkl to remote machine.&quot;)
</code></pre>
<h3 id="step-2-execute-on-remote-machine">Step 2: Execute on Remote Machine<a class="headerlink" href="#step-2-execute-on-remote-machine" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">from spotoptim import SpotOptim
import numpy as np

# Define objective function on remote machine
def expensive_function(X):
    &quot;&quot;&quot;Expensive simulation or computation&quot;&quot;&quot;
    # Your expensive computation here
    return np.sum(X**2, axis=1) + 0.1 * np.sum(np.sin(10 * X), axis=1)

# Load experiment configuration
optimizer = SpotOptim.load_experiment(&quot;remote_job_001_exp.pkl&quot;)
print(&quot;Experiment loaded successfully&quot;)

# Attach objective function (must be done after loading)
optimizer.fun = expensive_function

# Run optimization
result = optimizer.optimize()
print(f&quot;Optimization complete. Best value: {result.fun:.6f}&quot;)

# Save results
optimizer.save_result(prefix=&quot;remote_job_001&quot;)
# Creates: remote_job_001_res.pkl

print(&quot;Results saved. Transfer remote_job_001_res.pkl back to local machine.&quot;)
</code></pre>
<h3 id="step-3-analyze-results-locally">Step 3: Analyze Results Locally<a class="headerlink" href="#step-3-analyze-results-locally" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">from spotoptim import SpotOptim
import matplotlib.pyplot as plt

# Load results from remote execution
optimizer = SpotOptim.load_result(&quot;remote_job_001_res.pkl&quot;)

# Access all optimization data
print(f&quot;Best value found: {optimizer.best_y_:.6f}&quot;)
print(f&quot;Best point: {optimizer.best_x_}&quot;)
print(f&quot;Total evaluations: {optimizer.counter}&quot;)
print(f&quot;Number of iterations: {optimizer.n_iter_}&quot;)

# Analyze convergence
plt.figure(figsize=(10, 6))
plt.plot(optimizer.y_, 'o-', alpha=0.6, label='Evaluations')
plt.plot(range(len(optimizer.y_)), 
         [optimizer.y_[:i+1].min() for i in range(len(optimizer.y_))],
         'r-', linewidth=2, label='Best so far')
plt.xlabel('Iteration')
plt.ylabel('Objective Value')
plt.title('Optimization Progress')
plt.legend()
plt.grid(True)
plt.show()

# Access all evaluated points
print(f&quot;\nAll evaluated points shape: {optimizer.X_.shape}&quot;)
print(f&quot;All objective values shape: {optimizer.y_.shape}&quot;)
</code></pre>
<h2 id="advanced-usage">Advanced Usage<a class="headerlink" href="#advanced-usage" title="Permanent link">&para;</a></h2>
<h3 id="custom-filenames-and-paths">Custom Filenames and Paths<a class="headerlink" href="#custom-filenames-and-paths" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">import os
from spotoptim import SpotOptim
import numpy as np

def objective(X):
    return np.sum(X**2, axis=1)

optimizer = SpotOptim(
    fun=objective,
    bounds=[(-5, 5), (-5, 5)],
    max_iter=30,
    seed=42
)

# Save with custom filename
optimizer.save_experiment(
    filename=&quot;custom_name.pkl&quot;,
    verbosity=1
)

# Save to specific directory
os.makedirs(&quot;experiments/batch_001&quot;, exist_ok=True)
optimizer.save_experiment(
    prefix=&quot;exp_001&quot;,
    path=&quot;experiments/batch_001&quot;,
    verbosity=1
)
# Creates: experiments/batch_001/exp_001_exp.pkl
</code></pre>
<h3 id="overwrite-protection">Overwrite Protection<a class="headerlink" href="#overwrite-protection" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">from spotoptim import SpotOptim
import numpy as np

def sphere(X):
    return np.sum(X**2, axis=1)

optimizer = SpotOptim(fun=sphere, bounds=[(-5, 5), (-5, 5)], max_iter=20)
result = optimizer.optimize()

# First save
optimizer.save_result(prefix=&quot;my_result&quot;)

# Try to save again - raises FileExistsError by default
try:
    optimizer.save_result(prefix=&quot;my_result&quot;)
except FileExistsError as e:
    print(f&quot;File already exists: {e}&quot;)

# Explicitly allow overwriting
optimizer.save_result(prefix=&quot;my_result&quot;, overwrite=True)
print(&quot;File overwritten successfully&quot;)
</code></pre>
<h3 id="loading-and-continuing-optimization">Loading and Continuing Optimization<a class="headerlink" href="#loading-and-continuing-optimization" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">from spotoptim import SpotOptim
import numpy as np

def objective(X):
    return np.sum(X**2, axis=1)

# Initial optimization
opt1 = SpotOptim(
    fun=objective,
    bounds=[(-5, 5), (-5, 5)],
    max_iter=30,
    seed=42
)
result1 = opt1.optimize()
opt1.save_result(prefix=&quot;checkpoint&quot;)

print(f&quot;Initial optimization: {result1.nfev} evaluations, best={result1.fun:.6f}&quot;)

# Load and continue
opt2 = SpotOptim.load_result(&quot;checkpoint_res.pkl&quot;)
opt2.fun = objective  # Re-attach function
opt2.max_iter = 50  # Increase budget

# Continue optimization
result2 = opt2.optimize()
print(f&quot;After continuation: {result2.nfev} evaluations, best={result2.fun:.6f}&quot;)
</code></pre>
<h2 id="working-with-noisy-functions">Working with Noisy Functions<a class="headerlink" href="#working-with-noisy-functions" title="Permanent link">&para;</a></h2>
<p>Save and load preserves noise statistics for reproducible analysis:</p>
<pre><code class="language-python">import numpy as np
from spotoptim import SpotOptim

def noisy_objective(X):
    &quot;&quot;&quot;Objective with measurement noise&quot;&quot;&quot;
    true_value = np.sum(X**2, axis=1)
    noise = np.random.normal(0, 0.1, X.shape[0])
    return true_value + noise

# Optimize noisy function with repeated evaluations
optimizer = SpotOptim(
    fun=noisy_objective,
    bounds=[(-5, 5), (-5, 5)],
    max_iter=40,
    n_initial=15,
    repeats_initial=3,    # Repeat initial points
    repeats_surrogate=2,  # Repeat surrogate points
    seed=42,
    verbose=True
)

result = optimizer.optimize()

# Save results (includes noise statistics)
optimizer.save_result(prefix=&quot;noisy_opt&quot;)

# Load and analyze noise statistics
loaded_opt = SpotOptim.load_result(&quot;noisy_opt_res.pkl&quot;)

print(f&quot;Noise handling enabled: {loaded_opt.noise}&quot;)
print(f&quot;Best mean value: {loaded_opt.best_y_:.6f}&quot;)

if loaded_opt.mean_y is not None:
    print(f&quot;Mean values available: {len(loaded_opt.mean_y)}&quot;)
    print(f&quot;Variance values available: {len(loaded_opt.var_y)}&quot;)
</code></pre>
<h2 id="working-with-different-variable-types">Working with Different Variable Types<a class="headerlink" href="#working-with-different-variable-types" title="Permanent link">&para;</a></h2>
<p>Save and load preserves variable type information:</p>
<pre><code class="language-python">import numpy as np
from spotoptim import SpotOptim

def mixed_objective(X):
    &quot;&quot;&quot;Objective with mixed variable types&quot;&quot;&quot;
    return np.sum(X**2, axis=1)

# Create optimizer with mixed variable types
optimizer = SpotOptim(
    fun=mixed_objective,
    bounds=[(-5, 5), (-5, 5), (-5, 5), (-5, 5)],
    var_type=[&quot;num&quot;, &quot;int&quot;, &quot;factor&quot;, &quot;num&quot;],
    var_name=[&quot;continuous&quot;, &quot;integer&quot;, &quot;categorical&quot;, &quot;another_cont&quot;],
    max_iter=50,
    n_initial=20,
    seed=42
)

result = optimizer.optimize()

# Save results
optimizer.save_result(prefix=&quot;mixed_vars&quot;)

# Load results
loaded_opt = SpotOptim.load_result(&quot;mixed_vars_res.pkl&quot;)

print(&quot;Variable types preserved:&quot;)
print(f&quot;  var_type: {loaded_opt.var_type}&quot;)
print(f&quot;  var_name: {loaded_opt.var_name}&quot;)

# Verify integer variables are still integers
print(f&quot;\nInteger variable (dim 1) values:&quot;)
print(loaded_opt.X_[:5, 1])  # Should be integers
</code></pre>
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<h3 id="1-always-re-attach-the-objective-function">1. Always Re-attach the Objective Function<a class="headerlink" href="#1-always-re-attach-the-objective-function" title="Permanent link">&para;</a></h3>
<p>After loading an experiment, you <strong>must</strong> re-attach the objective function:</p>
<pre><code class="language-python"># Load experiment
optimizer = SpotOptim.load_experiment(&quot;experiment_exp.pkl&quot;)

# REQUIRED: Re-attach function
optimizer.fun = your_objective_function

# Now you can optimize
result = optimizer.optimize()
</code></pre>
<h3 id="2-use-meaningful-prefixes">2. Use Meaningful Prefixes<a class="headerlink" href="#2-use-meaningful-prefixes" title="Permanent link">&para;</a></h3>
<p>Organize your experiments with descriptive prefixes:</p>
<pre><code class="language-python"># Good practice: descriptive prefixes
optimizer.save_experiment(prefix=&quot;sphere_d10_seed42&quot;)
optimizer.save_experiment(prefix=&quot;rosenbrock_n100_lhs&quot;)
optimizer.save_result(prefix=&quot;final_run_2024_11_15&quot;)

# Avoid: generic names
optimizer.save_experiment(prefix=&quot;exp1&quot;)  # Not descriptive
optimizer.save_result(prefix=&quot;result&quot;)     # Hard to track
</code></pre>
<h3 id="3-save-experiments-before-remote-execution">3. Save Experiments Before Remote Execution<a class="headerlink" href="#3-save-experiments-before-remote-execution" title="Permanent link">&para;</a></h3>
<pre><code class="language-python"># Define locally
optimizer = SpotOptim(bounds=bounds, max_iter=500, seed=42)
optimizer.save_experiment(prefix=&quot;remote_job&quot;)

# Transfer file to remote machine
# Execute remotely
# Transfer results back
# Analyze locally
</code></pre>
<h3 id="4-version-your-experiments">4. Version Your Experiments<a class="headerlink" href="#4-version-your-experiments" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">import datetime

# Add timestamp to prefix
timestamp = datetime.datetime.now().strftime(&quot;%Y%m%d_%H%M%S&quot;)
prefix = f&quot;experiment_{timestamp}&quot;

optimizer.save_experiment(prefix=prefix)
# Creates: experiment_20241115_143022_exp.pkl
</code></pre>
<h3 id="5-handle-file-paths-robustly">5. Handle File Paths Robustly<a class="headerlink" href="#5-handle-file-paths-robustly" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">import os

# Create directory structure
exp_dir = &quot;experiments/batch_001&quot;
os.makedirs(exp_dir, exist_ok=True)

# Save with full path
optimizer.save_experiment(
    prefix=&quot;exp_001&quot;,
    path=exp_dir
)

# Load with full path
exp_file = os.path.join(exp_dir, &quot;exp_001_exp.pkl&quot;)
loaded_opt = SpotOptim.load_experiment(exp_file)
</code></pre>
<h2 id="complete-example-multi-machine-workflow">Complete Example: Multi-Machine Workflow<a class="headerlink" href="#complete-example-multi-machine-workflow" title="Permanent link">&para;</a></h2>
<p>Here&rsquo;s a complete example demonstrating the entire workflow:</p>
<h3 id="local-machine-setup">Local Machine (Setup)<a class="headerlink" href="#local-machine-setup" title="Permanent link">&para;</a></h3>
<pre><code class="language-python"># setup_experiment.py
import numpy as np
from spotoptim import SpotOptim
import os

# Create experiments directory
os.makedirs(&quot;experiments&quot;, exist_ok=True)

# Define multiple experiments
experiments = [
    {&quot;seed&quot;: 42, &quot;max_iter&quot;: 100, &quot;prefix&quot;: &quot;exp_seed42&quot;},
    {&quot;seed&quot;: 123, &quot;max_iter&quot;: 100, &quot;prefix&quot;: &quot;exp_seed123&quot;},
    {&quot;seed&quot;: 999, &quot;max_iter&quot;: 100, &quot;prefix&quot;: &quot;exp_seed999&quot;},
]

for exp_config in experiments:
    optimizer = SpotOptim(
        bounds=[(-10, 10), (-10, 10), (-10, 10)],
        max_iter=exp_config[&quot;max_iter&quot;],
        n_initial=30,
        seed=exp_config[&quot;seed&quot;],
        verbose=False
    )

    optimizer.save_experiment(
        prefix=exp_config[&quot;prefix&quot;],
        path=&quot;experiments&quot;
    )

    print(f&quot;Created: experiments/{exp_config['prefix']}_exp.pkl&quot;)

print(&quot;\nAll experiments created. Transfer 'experiments' folder to remote machine.&quot;)
</code></pre>
<h3 id="remote-machine-execution">Remote Machine (Execution)<a class="headerlink" href="#remote-machine-execution" title="Permanent link">&para;</a></h3>
<pre><code class="language-python"># run_experiments.py
import numpy as np
from spotoptim import SpotOptim
import os
import glob

def complex_objective(X):
    &quot;&quot;&quot;Complex multimodal objective function&quot;&quot;&quot;
    term1 = np.sum(X**2, axis=1)
    term2 = 10 * np.sum(np.cos(2 * np.pi * X), axis=1)
    term3 = 0.1 * np.sum(np.sin(5 * np.pi * X), axis=1)
    return term1 - term2 + term3

# Find all experiment files
exp_files = glob.glob(&quot;experiments/*_exp.pkl&quot;)
print(f&quot;Found {len(exp_files)} experiments to run&quot;)

# Run each experiment
for exp_file in exp_files:
    print(f&quot;\nProcessing: {exp_file}&quot;)

    # Load experiment
    optimizer = SpotOptim.load_experiment(exp_file)

    # Attach objective
    optimizer.fun = complex_objective

    # Run optimization
    result = optimizer.optimize()
    print(f&quot;  Best value: {result.fun:.6f}&quot;)

    # Save result (same prefix, different suffix)
    prefix = os.path.basename(exp_file).replace(&quot;_exp.pkl&quot;, &quot;&quot;)
    optimizer.save_result(
        prefix=prefix,
        path=&quot;experiments&quot;
    )
    print(f&quot;  Saved: experiments/{prefix}_res.pkl&quot;)

print(&quot;\nAll experiments completed. Transfer results back to local machine.&quot;)
</code></pre>
<h3 id="local-machine-analysis">Local Machine (Analysis)<a class="headerlink" href="#local-machine-analysis" title="Permanent link">&para;</a></h3>
<pre><code class="language-python"># analyze_results.py
import numpy as np
from spotoptim import SpotOptim
import glob
import matplotlib.pyplot as plt

# Find all result files
result_files = glob.glob(&quot;experiments/*_res.pkl&quot;)
print(f&quot;Found {len(result_files)} results to analyze&quot;)

# Load and compare results
results = []
for res_file in result_files:
    opt = SpotOptim.load_result(res_file)
    results.append({
        &quot;file&quot;: res_file,
        &quot;best_value&quot;: opt.best_y_,
        &quot;best_point&quot;: opt.best_x_,
        &quot;n_evals&quot;: opt.counter,
        &quot;seed&quot;: opt.seed
    })
    print(f&quot;{res_file}: best={opt.best_y_:.6f}, evals={opt.counter}&quot;)

# Find best overall result
best = min(results, key=lambda x: x[&quot;best_value&quot;])
print(f&quot;\nBest result:&quot;)
print(f&quot;  File: {best['file']}&quot;)
print(f&quot;  Value: {best['best_value']:.6f}&quot;)
print(f&quot;  Point: {best['best_point']}&quot;)
print(f&quot;  Seed: {best['seed']}&quot;)

# Plot convergence comparison
plt.figure(figsize=(12, 6))

for res_file in result_files:
    opt = SpotOptim.load_result(res_file)
    seed = opt.seed
    cummin = [opt.y_[:i+1].min() for i in range(len(opt.y_))]
    plt.plot(cummin, label=f&quot;Seed {seed}&quot;, linewidth=2, alpha=0.7)

plt.xlabel(&quot;Iteration&quot;, fontsize=12)
plt.ylabel(&quot;Best Value Found&quot;, fontsize=12)
plt.title(&quot;Optimization Progress Comparison&quot;, fontsize=14)
plt.legend()
plt.grid(True, alpha=0.3)
plt.tight_layout()
plt.savefig(&quot;experiments/convergence_comparison.png&quot;, dpi=150)
print(&quot;\nConvergence plot saved to: experiments/convergence_comparison.png&quot;)
</code></pre>
<h2 id="technical-details">Technical Details<a class="headerlink" href="#technical-details" title="Permanent link">&para;</a></h2>
<h3 id="serialization-method">Serialization Method<a class="headerlink" href="#serialization-method" title="Permanent link">&para;</a></h3>
<p>SpotOptim uses Python&rsquo;s built-in <code>pickle</code> module for serialization. This provides:</p>
<ul>
<li><strong>Standard library</strong>: No additional dependencies required</li>
<li><strong>Compatibility</strong>: Works with numpy arrays, sklearn models, scipy functions</li>
<li><strong>Performance</strong>: Efficient serialization of large datasets</li>
</ul>
<h3 id="component-reinitialization">Component Reinitialization<a class="headerlink" href="#component-reinitialization" title="Permanent link">&para;</a></h3>
<p>When loading experiments, certain components are automatically recreated:</p>
<ul>
<li><strong>Surrogate model</strong>: Gaussian Process with default kernel</li>
<li><strong>LHS sampler</strong>: Latin Hypercube Sampler with original seed</li>
</ul>
<p>This ensures loaded experiments can continue optimization without manual configuration.</p>
<h3 id="excluded-components">Excluded Components<a class="headerlink" href="#excluded-components" title="Permanent link">&para;</a></h3>
<p>Some components cannot be pickled and are automatically excluded:</p>
<ul>
<li><strong>Objective function</strong> (<code>fun</code>): Lambda functions and local functions cannot be reliably pickled</li>
<li><strong>TensorBoard writer</strong> (<code>tb_writer</code>): File handles cannot be serialized</li>
<li><strong>Surrogate model</strong> (experiments only): Recreated on load for experiments</li>
</ul>
<h3 id="file-format">File Format<a class="headerlink" href="#file-format" title="Permanent link">&para;</a></h3>
<p>Files are saved using pickle&rsquo;s highest protocol:</p>
<pre><code class="language-python">with open(filename, &quot;wb&quot;) as handle:
    pickle.dump(optimizer_state, handle, protocol=pickle.HIGHEST_PROTOCOL)
</code></pre>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="issue-attributeerror-spotoptim-object-has-no-attribute-fun">Issue: &ldquo;AttributeError: &lsquo;SpotOptim&rsquo; object has no attribute &lsquo;fun&rsquo;&rdquo;<a class="headerlink" href="#issue-attributeerror-spotoptim-object-has-no-attribute-fun" title="Permanent link">&para;</a></h3>
<p><strong>Cause</strong>: Objective function not re-attached after loading experiment.</p>
<p><strong>Solution</strong>: Always re-attach the function after loading:</p>
<pre><code class="language-python">opt = SpotOptim.load_experiment(&quot;exp.pkl&quot;)
opt.fun = your_objective_function  # Add this line
result = opt.optimize()
</code></pre>
<h3 id="issue-filenotfounderror-experiment-file-not-found">Issue: &ldquo;FileNotFoundError: Experiment file not found&rdquo;<a class="headerlink" href="#issue-filenotfounderror-experiment-file-not-found" title="Permanent link">&para;</a></h3>
<p><strong>Cause</strong>: Incorrect file path or file doesn&rsquo;t exist.</p>
<p><strong>Solution</strong>: Check file path and ensure file exists:</p>
<pre><code class="language-python">import os

filename = &quot;experiment_exp.pkl&quot;
if os.path.exists(filename):
    opt = SpotOptim.load_experiment(filename)
else:
    print(f&quot;File not found: {filename}&quot;)
</code></pre>
<h3 id="issue-fileexistserror-file-already-exists">Issue: &ldquo;FileExistsError: File already exists&rdquo;<a class="headerlink" href="#issue-fileexistserror-file-already-exists" title="Permanent link">&para;</a></h3>
<p><strong>Cause</strong>: Attempting to save over an existing file without <code>overwrite=True</code>.</p>
<p><strong>Solution</strong>: Either use a different prefix or enable overwriting:</p>
<pre><code class="language-python"># Option 1: Use different prefix
optimizer.save_result(prefix=&quot;my_result_v2&quot;)

# Option 2: Enable overwriting
optimizer.save_result(prefix=&quot;my_result&quot;, overwrite=True)
</code></pre>
<h3 id="issue-results-differ-after-loading">Issue: Results differ after loading<a class="headerlink" href="#issue-results-differ-after-loading" title="Permanent link">&para;</a></h3>
<p><strong>Cause</strong>: Random state not preserved or function behavior changed.</p>
<p><strong>Solution</strong>: Ensure you&rsquo;re using the same seed and function definition:</p>
<pre><code class="language-python"># When saving
optimizer = SpotOptim(..., seed=42)  # Use fixed seed

# When loading and continuing
loaded_opt = SpotOptim.load_result(&quot;result_res.pkl&quot;)
loaded_opt.fun = same_objective_function  # Same function definition
</code></pre>
<h2 id="see-also">See Also<a class="headerlink" href="#see-also" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../reproducibility/">Reproducibility Manual</a>: Learn about using seeds for reproducible results</li>
<li><a href="../tensorboard/">TensorBoard Manual</a>: Monitor optimization progress in real-time</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2004 - 2025
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/bartzbeielstein" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/thomas-bartz-beielstein-3157b541/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.copy", "navigation.instant", "navigation.indexes", "navigation.path", "navigation.prune", "navigation.expand"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>